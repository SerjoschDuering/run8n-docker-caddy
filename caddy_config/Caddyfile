run8n.xyz {
    reverse_proxy n8n:5678 {
        flush_interval -1
    }
}

nocodb.run8n.xyz {
    reverse_proxy nocodb:8080
}

siyuan.run8n.xyz {
    reverse_proxy siyuan:6806 {
    }
}

supabase.run8n.xyz {
    reverse_proxy supabase_kong:8000
}

windmill.run8n.xyz {
    reverse_proxy windmill_server:8000
}

# CapRover PaaS - Forms subdomain
forms.run8n.xyz {
    reverse_proxy caprover:8080 {
        header_up Host forms.run8n.xyz
        header_up X-Forwarded-Proto https
        header_up X-Real-IP {remote_host}
    }
}

# CapRover PaaS - Sites subdomain with wildcard support
sites.run8n.xyz, *.sites.run8n.xyz {
    reverse_proxy caprover:8080 {
        header_up Host {host}
        header_up X-Forwarded-Proto https
        header_up X-Real-IP {remote_host}
    }
}

# CapRover Dashboard
caprover.run8n.xyz {
    reverse_proxy caprover:3000 {
        header_up Host caprover.run8n.xyz
        header_up X-Forwarded-Proto https
        header_up X-Real-IP {remote_host}
    }
}